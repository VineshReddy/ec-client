{"version":3,"sources":["components/user/Account.jsx","components/user/Orders.jsx","actions/OrderActions.jsx","actions/AddressActions.jsx","components/user/Addresses.jsx","components/user/CreateAddress.jsx","components/user/checkout/Checkout.jsx","AuthenticatedApp.jsx"],"names":["Account","className","to","style","color","RenderOrders","orderItems","orders","map","order","orderdate","addressid","addressName","orderstatus","totalprice","date","Date","orderdateConv","getDate","getMonth","getFullYear","key","_id","class","products","RenderProducts","productItems","product","productid","image","name","quantity","price","src","alt","deliverystatus","delivereddate","NoOrders","Orders","useState","setOrders","loading","setLoading","useEffect","mounted","Promise","resolve","axios","get","tokenConfig","then","res","catch","err","console","log","response","data","Loading","length","getAddresses","setTimeout","createAddress","newAddress","body","post","RenderAddresses","addresses","setData","handleChange","id","makeDefault","result","item","isdefault","addressesItems","userid","mobile","pincode","landmark","address","onClick","aria-hidden","NoAddress","Addresses","setAddresses","CreateAddress","state","msg","e","target","setState","value","handleSubmit","preventDefault","props","history","goBack","this","onSubmit","htmlFor","type","placeholder","onChange","required","Component","contextType","AuthContext","withRouter","Checkout","useHistory","useContext","CartContext","cart","dispatch","addressId","setAddressId","showContent","nextSibling","display","addrTest","filter","push","alert","addr","placeOrder","clearCart","Main","exact","path","component","HomePage","SearchResults","Products","Cart","NoPageFound"],"mappings":"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","file":"static/js/4.ed5c4b6c.chunk.js","sourcesContent":["import React from 'react'\nimport { Link } from 'react-router-dom'\n\nconst Account = () => {\n  return (\n    <main className=\"account\">\n      <h3>Account Information</h3>\n      <div className=\"account-items\">\n      <Link to=\"/user/profile\">\n        <div className=\"account-image\">\n          <i className=\"fas fa-id-badge\" style={{color:\"peru\"}} ></i>\n        </div>\n        <div className=\"account-title\">\n          Profile \n        </div>\n        <div className=\"account-description\">\n          Modify profile details\n        </div>\n      </Link>\n\n      <Link to=\"/user/orders\">\n        <div className=\"account-image\">\n          <i className=\"fas fa-box-open\" style={{color:\"goldenrod\"}} ></i>\n        </div>\n        <div className=\"account-title\">\n          Orders\n        </div>\n        <div className=\"account-description\">\n          Order history\n        </div>\n      </Link>\n      <Link to=\"/user/addresses\">\n        <div className=\"account-image\">\n          <i className=\"fas fa-map-marked\" style={{color:\"cornflowerblue\"}} ></i>\n        </div>\n        <div className=\"account-title\">\n          Manage Addresses\n        </div>\n        <div className=\"account-description\">\n          Add, delete or modify address\n        </div>\n      </Link>\n      <Link to=\"/user/balance\">\n        <div className=\"account-image\">\n          <i className=\"fas fa-rupee-sign\" style={{color:\"olive\"}} ></i>\n        </div>\n        <div className=\"account-title\">\n          Balance \n        </div>\n        <div className=\"account-description\">\n          Add or check balance summary\n        </div>\n      </Link>\n      </div>\n    </main>\n  )\n}\n\nexport default Account\n","import React, { useState, useContext, useEffect } from 'react'\nimport { Link } from 'react-router-dom'\nimport {getOrders} from './../../actions/OrderActions.jsx';\nimport Loading from './../Loading.jsx'\n\n\nconst Orders = () => {\n  const [orders, setOrders] = useState([]); \n  const [loading, setLoading] = useState(true); \n\n  useEffect(() => {\n    let mounted = true\n    getOrders().then(res => {\n      if(mounted){\n        setOrders(res.data)\n        setLoading(false)\n      }\n    })\n    return () => mounted = false\n  }, [])\n \n\n  return (\n    <main className=\"orders\">\n      <h3>Orders</h3>\n      {\n        loading ? <Loading /> : orders.length ?\n          <RenderOrders orders={orders} />\n          :\n          <NoOrders />\n      }\n    </main>\n  )\n} \n\nconst RenderOrders = ({orders}) => {\n  const orderItems = orders.map(order => {\n    const { orderdate, addressid, addressName, orderstatus, totalprice } = order\n    let date = new Date(orderdate)\n    const orderdateConv = `${date.getDate()}/${date.getMonth()+1}/${date.getFullYear()}`\n    return (\n      <section className=\"order-item\" key={order._id}>\n        <div className=\"order-header grid\">\n          <div className=\"order-date\">\n            <div>Order Date</div>\n            <div>{orderdateConv}</div>\n          </div>\n          <div className=\"order-address\">\n            <div>Address</div>\n            <div>\n              <Link to={'/user/address/' + addressid} >\n                {addressName}\n              </Link>\n            </div>\n          </div>\n          <div className=\"order-total\">\n            <div>Total</div>\n            <div>₹{totalprice}</div>\n          </div>\n          <div className=\"order-status\">\n            <div>Status</div>\n            {\n              orderstatus ? <div class=\"success\">Completed</div>\n              : <div className=\"error\">Active</div>\n            }\n          </div>\n        </div>\n        <RenderProducts products={order.products} />\n      </section>\n      )\n    }\n  )\n  return (\n    <div className=\"order-items\">\n      {orderItems}\n    </div>\n  )\n}\n\nconst RenderProducts = ({products}) => {\n  const productItems = products.map(product => {\n    const { _id, productid, image, name,  quantity, price } = product\n    return (\n      <section className=\"order-product grid\" key={product._id}>\n        <div className=\"product-image\">\n          <Link to={'/product/' + productid} >\n            <img src={image} alt={name + \" img\"}  />\n          </Link>\n        </div>\n        <div className=\"product-info\">\n          <div className=\"product-name\">\n            <Link to={'/product/' + productid} >\n              {name} \n            </Link>\n          </div>\n          <div className=\"product-quantity\">Quantity : {quantity}</div>\n          <div className=\"product-price\">Unit Price : ₹{price}</div>\n          <div className=\"product-price\">Price : ₹{price * quantity}</div>\n        </div>\n        {\n          product.deliverystatus?\n            <div className=\"product-status error\">Not Delivered</div>\n            : <div className=\"product-status\">{product.delivereddate}</div>\n        }\n      </section>\n      )\n    }\n  )\n  return (\n    <div className=\"order-products grid\">\n      {productItems}\n    </div>\n  )\n}\n\n\nconst NoOrders = () => {\n  return (\n    <section className=\"rem13\">\n      You haven't placed any orders yet!!\n    </section>\n  )\n}\n\n\n\nexport default Orders \n","import axios from 'axios';\nimport {tokenConfig} from './../utilities/tokenconfig.jsx'\n\nexport const getOrders = () => {\n  return new Promise(resolve => {\n    axios\n      .get('/api/order/', tokenConfig())\n      .then(res => \n        resolve(res)\n      ).catch(err => console.log(err.response.data))\n  });\n}\n\n\nexport const placeOrder = (products, addressid) => {\n  const body = { products, addressid };\n  return new Promise(resolve => {\n    setTimeout(() => {\n    axios\n      .post('/api/order/placeorder', body, tokenConfig())\n      .then(res => \n        resolve(res)\n      )\n    }, 500);\n  });\n}\n \n","import axios from 'axios';\nimport {tokenConfig} from './../utilities/tokenconfig.jsx'\n\n\nexport const getAddresses = () => {\n  return new Promise(resolve => {\n    setTimeout(() => {\n    axios\n      .get('/api/address/', tokenConfig())\n      .then(res => \n        resolve(res)\n      )\n    }, 500);\n  });\n}\n \nexport const createAddress = (newAddress) => {\n  const body = { ...newAddress }\n  return new Promise(resolve => {\n    setTimeout(() => {\n    axios\n      .post('/api/address/', body, tokenConfig())\n      .then(res => \n        resolve(res)\n      )\n    }, 500);\n  });\n}\n\nexport const makeDefault = (id) => {\n  const body = { id }\n  return new Promise(resolve => {\n    setTimeout(() => {\n      axios.post('/api/address/makedefault', body, tokenConfig())\n        .then(res=>\n          resolve(res)\n        )\n    }, 500)\n  }) \n}\n \n","import React, { useState, useContext, useEffect } from 'react'\nimport { Link } from 'react-router-dom'\nimport {getAddresses} from './../../actions/AddressActions.jsx';\nimport {makeDefault} from './../../actions/AddressActions.jsx'\nimport Loading from './../Loading.jsx'\n\n\nconst Addresses = () => {\n  const [addresses, setAddresses] = useState([]); \n  const [loading, setLoading] = useState(true); \n\n  useEffect(() => {\n    let mounted = true\n    if(loading) getAddresses().then(res => {\n      setAddresses(res.data)\n      setLoading(false)\n    })\n    return () => mounted = false\n  }, [])\n \n  return (\n    <main className=\"addresses\">\n      <h3>Addresses</h3>\n      <div className=\"addresses-options\">\n        {\n          loading ? null : \n            <Link to=\"/user/address/createaddress\"><div className=\"button but-col\">Create Address</div></Link>\n        }\n      </div>\n      {\n        loading ? <Loading /> : addresses.length  ? \n          <RenderAddresses addresses={addresses} />\n          :\n          <NoAddress/>\n      }\n    </main>\n  )\n} \n\nconst RenderAddresses= ({addresses}) => {\n    let [data, setData] = useState(addresses)\n\n  const handleChange = (id) => {\n    makeDefault(id)\n    setData(result => data.map((item) => {\n      if(item.isdefault && item._id != id) item.isdefault = false;\n      if(item._id == id) item.isdefault = true \n      return item; \n    }))\n  }\n\n  useEffect(() => {\n  }, [])\n \n    console.log(data)\n\n  const addressesItems = data.map( (item) => {\n    const { _id, userid, name, mobile, pincode, landmark, address, isdefault } = item \n    return (\n      <section className=\"address-item grid\" key={_id}>\n        <div className=\"addr-default\" onClick={()=>handleChange(_id)}>\n          <div>Default</div>\n          <div className=\"flex-center\">\n          {\n            isdefault? <i className=\"far fa-check-square\" aria-hidden=\"true\"></i>: <i className=\"far fa-square\" aria-hidden=\"true\"></i> \n          }\n          </div>\n        </div>\n        <div className=\"addr-name\">\n          <div>Name</div>\n          <div>{name}</div>\n        </div>\n        <div className=\"addr-mobile\">\n          <div>Mobile</div>\n          <div>{mobile}</div>\n        </div>\n        <div className=\"addr-pincode\">\n          <div>Pincode</div>\n          <div>{pincode}</div>\n        </div>\n        <div className=\"addr-landmark\">\n          <div>Landmark</div>\n          <div>{landmark}</div>\n        </div>\n        <div className=\"addr-address\">\n          <div>Address</div>\n          <div>{address}</div>\n        </div>\n      </section>\n      )\n    }\n  )\n  return (\n    <div className=\"addresses-items\">\n      {addressesItems}\n    </div>\n  )\n}\n\n\nconst NoAddress= () => {\n  return (\n    <section className=\"rem13\">\n      You haven't created any address yet!!\n    </section>\n  )\n}\n\n\n\nexport default Addresses \n","import React, { Component } from 'react'\nimport { Link, withRouter } from 'react-router-dom'\n\nimport {AuthContext} from './../../contexts/AuthContext.jsx' \nimport {createAddress} from './../../actions/AddressActions.jsx'\n\n\nclass CreateAddress extends Component { \n\n  static contextType = AuthContext;\n\n  state = {\n    name : '',\n    mobile: '',\n    pincode: '',\n    landmark: '',\n    address: '',\n    isdefault: false, \n    msg: null\n  }\n  handleChange = (e) => {\n    if(e.target.name === 'isdefault'){\n      this.setState({\n        [e.target.name] : !this.state.isdefault \n      })\n    } \n    else {\n      this.setState({\n        [e.target.name] : e.target.value\n      })\n    }\n  }\n\n  handleSubmit = (e) => {\n    e.preventDefault()\n\n    const { name, mobile, pincode, landmark, address, isdefault } = this.state\n\n    const newAddress = {\n      name,\n      mobile,\n      pincode,\n      landmark,\n      address,\n      isdefault\n    }\n    createAddress(newAddress).then(res => {\n      this.props.history.goBack()\n      }\n    )\n  }\n  render() {\n    const { name, mobile, pincode, landmark, address, isdefault } = this.state\n    return(\n      <main className=\"signup\">\n        <h3>Create Address</h3>\n        <div className=\"signup-form grid\">\n          <form onSubmit={this.handleSubmit} className=\"grid\" >\n            <label htmlFor=\"name\">Name : </label>\n            <input type=\"text\" name=\"name\" placeholder=\"name\" onChange={this.handleChange}  required />\n            <label htmlFor=\"mobile\">Mobile Number: </label>\n            <input type=\"tel\" name=\"mobile\" placeholder=\"0123456789\" onChange={this.handleChange}  required />\n            <label htmlFor=\"pincode\">Pincode: </label>\n            <input type=\"tel\" name=\"pincode\" placeholder=\"506001\" onChange={this.handleChange}  required />\n            <label htmlFor=\"landmark\">Landmark: </label>\n            <input type=\"text\" name=\"landmark\" placeholder=\"\" onChange={this.handleChange}  required />\n            <label htmlFor=\"address\">Address: </label>\n            <input type=\"text\" name=\"address\" placeholder=\"\" onChange={this.handleChange}  required />\n              <label htmlFor=\"isdefault\">Default: &nbsp;               \n                  <input type=\"checkbox\"  name=\"isdefault\" onChange={this.handleChange} />\n              </label>\n            <input type=\"submit\" value=\"Create Address\" className=\"button but-col\" />\n\n          </form>\n        </div>\n      </main>\n\n    )\n  }\n\n\n}\n\nexport default withRouter(CreateAddress) \n","import React, {useState, useEffect, useContext} from 'react'\nimport { Link, useHistory} from 'react-router-dom'\nimport {placeOrder} from '../../../actions/OrderActions.jsx';\nimport {CartContext} from '../../../contexts/CartContext.jsx';\nimport {clearCart} from '../../../actions/CartActions.jsx';\nimport {getAddresses} from './../../../actions/AddressActions.jsx';\n\nconst Checkout = () => {\n\n  let history = useHistory()\n\n  const {cart, dispatch} = useContext(CartContext); \n  const {products} =  cart\n  /*  Temporary */\n  const [addressId, setAddressId] = useState([]); \n  const [loading, setLoading] = useState(true); \n\n  useEffect(() => {\n    let mounted = true\n    if(loading) getAddresses().then(res => {\n      let addrTest = res.data.filter(e => e.isdefault )\n      if(addrTest.length == 0  || addrTest[0] == \"undefined\") {\n        history.push(\"/user/addresses\");\n        alert(\"You need a default address, as Checkout page is under construction\")\n        return;\n      }\n\n\n      let addr = res.data.filter(e => e.isdefault)[0]._id \n      setAddressId(addr)\n      setLoading(false)\n    })\n    return () => mounted = false\n  }, [])\n \n  /* End  Temporary */\n\n  useEffect(() => {\n    let mounted = true\n    return () => mounted = false\n  }, [])\n\n  function handleOrder() {\n    placeOrder(products, addressId).then(res => {\n      clearCart(dispatch)\n      history.push('/user/orders')\n    })\n  }\n \n\n  function showContent(e){\n    const content = e.target.nextSibling\n    content.style.display = \"block\"\n  }\n\n  return (\n    <main className=\"account\">\n      <h3>Checkout</h3>\n      <div className=\"checkout-items\">\n        <div className=\"checkout-login\">\n          <div className=\"collapsible\" onClick={showContent}>Login</div>\n          <div className=\"content\"></div>\n        </div>\n        <div className=\"checkout-address\">\n          <div className=\"collapsible\" onClick={showContent}>\n            Select Address\n          </div>\n          <div className=\"content\"></div>\n        </div>\n        <div className=\"checkout-summary\">\n          <div className=\"collapsible\" onClick={showContent} >Order Summary</div>\n          <div className=\"content\"></div>\n        </div>\n        <div className=\"checkout-payment\">\n          <div className=\"collapsible\" onClick={showContent} >Payment Methods</div>\n          <div className=\"content\">\n          </div>\n        </div>\n      </div>\n      <div className=\"button but-col\" onClick={handleOrder}>Place Order & Pay</div>\n    </main>\n  )\n}\n\nexport default Checkout \n","import React, { Component, useEffect } from 'react'\nimport { Switch, Route, Redirect, useRouteMatch, useParams } from 'react-router-dom'\nimport Header from './components/header';\nimport Footer from './components/footer';\nimport Products from './components/product/Products'\nimport Account from './components/user/Account.jsx'\nimport Cart from './components/user/Cart'\nimport Orders from './components/user/Orders.jsx'\nimport Addresses from './components/user/Addresses.jsx'\nimport CreateAddress from './components/user/CreateAddress.jsx'\nimport Checkout from './components/user/checkout/Checkout.jsx'\nimport NoPageFound from './components/NoPageFound.jsx'\nimport Loading from './components/Loading.jsx'\n\nimport HomePage from './components/HomePage.jsx'\nimport SearchResults from './components/search/SearchResults.jsx'\n\n\n\nconst Main = () => {\n  return (\n    <>\n      <Header />\n      <Switch>\n        <Route exact path='/' component={HomePage}  /> \n        <Route path='/query/:queryName' component={SearchResults}  /> \n        \n        <Route exact path='/category/:categoryName' component={Products}  /> \n        <Route exact path='/user' component={Account}  /> \n        \n        <Route exact path='/user/cart' component={Cart}  /> \n        <Route path='/user/orders' component={Orders}  /> \n        <Route path='/user/addresses' component={Addresses}  /> \n        <Route path='/user/address/createaddress' component={CreateAddress}  /> \n        \n        <Route path='/user/cart/checkout' component={Checkout}  /> \n\n        <Route path='/user/signup' > \n          <Redirect to='/user'/>\n        </Route>\n        <Route path='/user/signin' > \n          <Redirect to='/user'/>\n        </Route>\n        <Route path=\"*\">\n          <NoPageFound />\n        </Route>\n        <Route exact path='/test' component={Loading}  /> \n\n      </Switch>\n      <Footer />\n    </>\n  )\n}\n\nexport default Main\n\n\n{/*\n  *import Product from './product/Product'\n  *<Route exact path='/product' component={Product}  /> \n  */}\n"],"sourceRoot":""}