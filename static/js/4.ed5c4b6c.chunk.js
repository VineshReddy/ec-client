(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[4],{82:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(7),l=t(78),s=t(79),d=t(80),i=t(19),m=function(){return r.a.createElement("main",{className:"account"},r.a.createElement("h3",null,"Account Information"),r.a.createElement("div",{className:"account-items"},r.a.createElement(i.b,{to:"/user/profile"},r.a.createElement("div",{className:"account-image"},r.a.createElement("i",{className:"fas fa-id-badge",style:{color:"peru"}})),r.a.createElement("div",{className:"account-title"},"Profile"),r.a.createElement("div",{className:"account-description"},"Modify profile details")),r.a.createElement(i.b,{to:"/user/orders"},r.a.createElement("div",{className:"account-image"},r.a.createElement("i",{className:"fas fa-box-open",style:{color:"goldenrod"}})),r.a.createElement("div",{className:"account-title"},"Orders"),r.a.createElement("div",{className:"account-description"},"Order history")),r.a.createElement(i.b,{to:"/user/addresses"},r.a.createElement("div",{className:"account-image"},r.a.createElement("i",{className:"fas fa-map-marked",style:{color:"cornflowerblue"}})),r.a.createElement("div",{className:"account-title"},"Manage Addresses"),r.a.createElement("div",{className:"account-description"},"Add, delete or modify address")),r.a.createElement(i.b,{to:"/user/balance"},r.a.createElement("div",{className:"account-image"},r.a.createElement("i",{className:"fas fa-rupee-sign",style:{color:"olive"}})),r.a.createElement("div",{className:"account-title"},"Balance"),r.a.createElement("div",{className:"account-description"},"Add or check balance summary"))))},o=t(75),u=t(11),E=t(13),p=t.n(E),f=t(23),v=t(15),h=function(e){var a=e.orders.map((function(e){var a=e.orderdate,t=e.addressid,n=e.addressName,c=e.orderstatus,l=e.totalprice,s=new Date(a),d="".concat(s.getDate(),"/").concat(s.getMonth()+1,"/").concat(s.getFullYear());return r.a.createElement("section",{className:"order-item",key:e._id},r.a.createElement("div",{className:"order-header grid"},r.a.createElement("div",{className:"order-date"},r.a.createElement("div",null,"Order Date"),r.a.createElement("div",null,d)),r.a.createElement("div",{className:"order-address"},r.a.createElement("div",null,"Address"),r.a.createElement("div",null,r.a.createElement(i.b,{to:"/user/address/"+t},n))),r.a.createElement("div",{className:"order-total"},r.a.createElement("div",null,"Total"),r.a.createElement("div",null,"\u20b9",l)),r.a.createElement("div",{className:"order-status"},r.a.createElement("div",null,"Status"),c?r.a.createElement("div",{class:"success"},"Completed"):r.a.createElement("div",{className:"error"},"Active"))),r.a.createElement(b,{products:e.products}))}));return r.a.createElement("div",{className:"order-items"},a)},b=function(e){var a=e.products.map((function(e){e._id;var a=e.productid,t=e.image,n=e.name,c=e.quantity,l=e.price;return r.a.createElement("section",{className:"order-product grid",key:e._id},r.a.createElement("div",{className:"product-image"},r.a.createElement(i.b,{to:"/product/"+a},r.a.createElement("img",{src:t,alt:n+" img"}))),r.a.createElement("div",{className:"product-info"},r.a.createElement("div",{className:"product-name"},r.a.createElement(i.b,{to:"/product/"+a},n)),r.a.createElement("div",{className:"product-quantity"},"Quantity : ",c),r.a.createElement("div",{className:"product-price"},"Unit Price : \u20b9",l),r.a.createElement("div",{className:"product-price"},"Price : \u20b9",l*c)),e.deliverystatus?r.a.createElement("div",{className:"product-status error"},"Not Delivered"):r.a.createElement("div",{className:"product-status"},e.delivereddate))}));return r.a.createElement("div",{className:"order-products grid"},a)},N=function(){return r.a.createElement("section",{className:"rem13"},"You haven't placed any orders yet!!")},g=function(){var e=Object(n.useState)([]),a=Object(u.a)(e,2),t=a[0],c=a[1],l=Object(n.useState)(!0),s=Object(u.a)(l,2),d=s[0],i=s[1];return Object(n.useEffect)((function(){var e=!0;return new Promise((function(e){p.a.get("/api/order/",Object(f.a)()).then((function(a){return e(a)})).catch((function(e){return console.log(e.response.data)}))})).then((function(a){e&&(c(a.data),i(!1))})),function(){return e=!1}}),[]),r.a.createElement("main",{className:"orders"},r.a.createElement("h3",null,"Orders"),d?r.a.createElement(v.a,null):t.length?r.a.createElement(h,{orders:t}):r.a.createElement(N,null))},y=t(2),O=function(){return new Promise((function(e){setTimeout((function(){p.a.get("/api/address/",Object(f.a)()).then((function(a){return e(a)}))}),500)}))},k=function(e){var a=Object(y.a)({},e);return new Promise((function(e){setTimeout((function(){p.a.post("/api/address/",a,Object(f.a)()).then((function(a){return e(a)}))}),500)}))},j=function(e){var a=e.addresses,t=Object(n.useState)(a),c=Object(u.a)(t,2),l=c[0],s=c[1],d=function(e){!function(e){var a={id:e};new Promise((function(e){setTimeout((function(){p.a.post("/api/address/makedefault",a,Object(f.a)()).then((function(a){return e(a)}))}),500)}))}(e),s((function(a){return l.map((function(a){return a.isdefault&&a._id!=e&&(a.isdefault=!1),a._id==e&&(a.isdefault=!0),a}))}))};Object(n.useEffect)((function(){}),[]),console.log(l);var i=l.map((function(e){var a=e._id,t=(e.userid,e.name),n=e.mobile,c=e.pincode,l=e.landmark,s=e.address,i=e.isdefault;return r.a.createElement("section",{className:"address-item grid",key:a},r.a.createElement("div",{className:"addr-default",onClick:function(){return d(a)}},r.a.createElement("div",null,"Default"),r.a.createElement("div",{className:"flex-center"},i?r.a.createElement("i",{className:"far fa-check-square","aria-hidden":"true"}):r.a.createElement("i",{className:"far fa-square","aria-hidden":"true"}))),r.a.createElement("div",{className:"addr-name"},r.a.createElement("div",null,"Name"),r.a.createElement("div",null,t)),r.a.createElement("div",{className:"addr-mobile"},r.a.createElement("div",null,"Mobile"),r.a.createElement("div",null,n)),r.a.createElement("div",{className:"addr-pincode"},r.a.createElement("div",null,"Pincode"),r.a.createElement("div",null,c)),r.a.createElement("div",{className:"addr-landmark"},r.a.createElement("div",null,"Landmark"),r.a.createElement("div",null,l)),r.a.createElement("div",{className:"addr-address"},r.a.createElement("div",null,"Address"),r.a.createElement("div",null,s)))}));return r.a.createElement("div",{className:"addresses-items"},i)},C=function(){return r.a.createElement("section",{className:"rem13"},"You haven't created any address yet!!")},S=function(){var e=Object(n.useState)([]),a=Object(u.a)(e,2),t=a[0],c=a[1],l=Object(n.useState)(!0),s=Object(u.a)(l,2),d=s[0],m=s[1];return Object(n.useEffect)((function(){return d&&O().then((function(e){c(e.data),m(!1)})),function(){return!1}}),[]),r.a.createElement("main",{className:"addresses"},r.a.createElement("h3",null,"Addresses"),r.a.createElement("div",{className:"addresses-options"},d?null:r.a.createElement(i.b,{to:"/user/address/createaddress"},r.a.createElement("div",{className:"button but-col"},"Create Address"))),d?r.a.createElement(v.a,null):t.length?r.a.createElement(j,{addresses:t}):r.a.createElement(C,null))},x=t(21),A=t(70),P=t(71),q=t(73),w=t(72),F=t(12),D=function(e){Object(q.a)(t,e);var a=Object(w.a)(t);function t(){var e;Object(A.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=a.call.apply(a,[this].concat(r))).state={name:"",mobile:"",pincode:"",landmark:"",address:"",isdefault:!1,msg:null},e.handleChange=function(a){"isdefault"===a.target.name?e.setState(Object(x.a)({},a.target.name,!e.state.isdefault)):e.setState(Object(x.a)({},a.target.name,a.target.value))},e.handleSubmit=function(a){a.preventDefault();var t=e.state,n=t.name,r=t.mobile,c=t.pincode,l=t.landmark,s=t.address,d=t.isdefault;k({name:n,mobile:r,pincode:c,landmark:l,address:s,isdefault:d}).then((function(a){e.props.history.goBack()}))},e}return Object(P.a)(t,[{key:"render",value:function(){var e=this.state;e.name,e.mobile,e.pincode,e.landmark,e.address,e.isdefault;return r.a.createElement("main",{className:"signup"},r.a.createElement("h3",null,"Create Address"),r.a.createElement("div",{className:"signup-form grid"},r.a.createElement("form",{onSubmit:this.handleSubmit,className:"grid"},r.a.createElement("label",{htmlFor:"name"},"Name : "),r.a.createElement("input",{type:"text",name:"name",placeholder:"name",onChange:this.handleChange,required:!0}),r.a.createElement("label",{htmlFor:"mobile"},"Mobile Number: "),r.a.createElement("input",{type:"tel",name:"mobile",placeholder:"0123456789",onChange:this.handleChange,required:!0}),r.a.createElement("label",{htmlFor:"pincode"},"Pincode: "),r.a.createElement("input",{type:"tel",name:"pincode",placeholder:"506001",onChange:this.handleChange,required:!0}),r.a.createElement("label",{htmlFor:"landmark"},"Landmark: "),r.a.createElement("input",{type:"text",name:"landmark",placeholder:"",onChange:this.handleChange,required:!0}),r.a.createElement("label",{htmlFor:"address"},"Address: "),r.a.createElement("input",{type:"text",name:"address",placeholder:"",onChange:this.handleChange,required:!0}),r.a.createElement("label",{htmlFor:"isdefault"},"Default: \xa0",r.a.createElement("input",{type:"checkbox",name:"isdefault",onChange:this.handleChange})),r.a.createElement("input",{type:"submit",value:"Create Address",className:"button but-col"}))))}}]),t}(n.Component);D.contextType=F.a;var _=Object(c.i)(D),M=t(20),T=t(69),Y=function(){var e=Object(c.g)(),a=Object(n.useContext)(M.a),t=a.cart,l=a.dispatch,s=t.products,d=Object(n.useState)([]),i=Object(u.a)(d,2),m=i[0],o=i[1],E=Object(n.useState)(!0),v=Object(u.a)(E,2),h=v[0],b=v[1];function N(e){e.target.nextSibling.style.display="block"}return Object(n.useEffect)((function(){return h&&O().then((function(a){var t=a.data.filter((function(e){return e.isdefault}));if(0==t.length||"undefined"==t[0])return e.push("/user/addresses"),void alert("You need a default address, as Checkout page is under construction");var n=a.data.filter((function(e){return e.isdefault}))[0]._id;o(n),b(!1)})),function(){return!1}}),[]),Object(n.useEffect)((function(){return function(){return!1}}),[]),r.a.createElement("main",{className:"account"},r.a.createElement("h3",null,"Checkout"),r.a.createElement("div",{className:"checkout-items"},r.a.createElement("div",{className:"checkout-login"},r.a.createElement("div",{className:"collapsible",onClick:N},"Login"),r.a.createElement("div",{className:"content"})),r.a.createElement("div",{className:"checkout-address"},r.a.createElement("div",{className:"collapsible",onClick:N},"Select Address"),r.a.createElement("div",{className:"content"})),r.a.createElement("div",{className:"checkout-summary"},r.a.createElement("div",{className:"collapsible",onClick:N},"Order Summary"),r.a.createElement("div",{className:"content"})),r.a.createElement("div",{className:"checkout-payment"},r.a.createElement("div",{className:"collapsible",onClick:N},"Payment Methods"),r.a.createElement("div",{className:"content"}))),r.a.createElement("div",{className:"button but-col",onClick:function(){(function(e,a){var t={products:e,addressid:a};return new Promise((function(e){setTimeout((function(){p.a.post("/api/order/placeorder",t,Object(f.a)()).then((function(a){return e(a)}))}),500)}))})(s,m).then((function(a){Object(T.b)(l),e.push("/user/orders")}))}},"Place Order & Pay"))},L=t(76),B=t(77),J=t(81);a.default=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(l.a,null),r.a.createElement(c.d,null,r.a.createElement(c.b,{exact:!0,path:"/",component:B.a}),r.a.createElement(c.b,{path:"/query/:queryName",component:J.a}),r.a.createElement(c.b,{exact:!0,path:"/category/:categoryName",component:d.a}),r.a.createElement(c.b,{exact:!0,path:"/user",component:m}),r.a.createElement(c.b,{exact:!0,path:"/user/cart",component:o.a}),r.a.createElement(c.b,{path:"/user/orders",component:g}),r.a.createElement(c.b,{path:"/user/addresses",component:S}),r.a.createElement(c.b,{path:"/user/address/createaddress",component:_}),r.a.createElement(c.b,{path:"/user/cart/checkout",component:Y}),r.a.createElement(c.b,{path:"/user/signup"},r.a.createElement(c.a,{to:"/user"})),r.a.createElement(c.b,{path:"/user/signin"},r.a.createElement(c.a,{to:"/user"})),r.a.createElement(c.b,{path:"*"},r.a.createElement(L.a,null)),r.a.createElement(c.b,{exact:!0,path:"/test",component:v.a})),r.a.createElement(s.a,null))}}}]);
//# sourceMappingURL=4.ed5c4b6c.chunk.js.map